# Pulse Counter with Hall - Milesight IoT

The payload decoder function is applicable to EM300-DI.

## Payload Definition

|     CHANNEL     |  ID  | TYPE | LENGTH | DESCRIPTION                                                                                                                                                                                                                                                                                                                                                                                                                  |
| :-------------: | :--: | :--: | :----: | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     Battery     | 0x01 | 0x75 |   1    | battery(1B)<br/>battery, unit: %                                                                                                                                                                                                                                                                                                                                                                                             |
|      GPIO       | 0x05 | 0x00 |   1    | gpio(1B)                                                                                                                                                                                                                                                                                                                                                                                                                     |
|      Water      | 0x05 | 0xE1 |   8    | water_conv(2b) + pulse_conv(2B) + water(4B)<br/>NOTE: water_conv/pulse_conv \* counter = water                                                                                                                                                                                                                                                                                                                               |
|   GPIO Alarm    | 0x85 | 0x00 |   1    | gpio(1B) + gpio_alarm(1B)<br/>gpio, values: (0: low, 1: high)<br/>gpio_alarm, values:(1: gpio alarm, 0: gpio alarm release)                                                                                                                                                                                                                                                                                                  |
|   Water Alarm   | 0x85 | 0xE1 |   9    | water_conv(2b) + pulse_conv(2B) + water(4B) + water_alarm(1B)<br/>water_alarm, (1: water outage timeout alarm, 2: water outage timeout alarm release, 3: water flow timeout alarm, 4: water flow timeout alarm release)                                                                                                                                                                                                      |
| Historical Data | 0x21 | 0xCE |   18   | timestamp(4B) + alarm(1B) + gpio_type(1B) + gpio(1B) + water_conv(2B) + pulse_conv(2B) + water(4B)<br/>gpio_type, values: (1: gpio, 2: pulse)<br/>gpio, values: (0: low, 1: high)<br/>alarm, values: (0: none, 1: water outage timeout alarm, 2: water outage timeout alarm release, 3: water flow timeout alarm, 4: water flow timeout alarm release, 5: gpio alarm, 6: gpio alarm release) |